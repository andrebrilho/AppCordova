<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Crefisa</title>


    <link rel="stylesheet" href="webfiles/css/temaAgendar.css" media="all" type="text/css" />

    <link href="styles/loadmask.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="scripts/jquery.js"></script>
    <script type="text/javascript" src="scripts/jqueryui.js"></script>
    <script src="scripts/storage-help.js"></script>
    <script src="scripts/util/Util.js"></script>
    <script src="scripts/angular.min.js" type="text/javascript"></script>
    <script src="scripts/jquery.loadmask.js"></script>
    <script src="webfiles/js/jquery.mask.min.js"></script>

    <script type="text/javascript" language="javascript" src="webfiles/plugins/tether/dist/js/tether.min.js" charset="UTF-8"></script>
    <script type="text/javascript" language="javascript" src="webfiles/js/bootstrap.min.js" charset="UTF-8"></script>
    <script type="text/javascript" language="javascript" src="webfiles/js/custom.js" charset="UTF-8"></script>




</head>
<body>

    <nav class="app-nav" style="display: none;">
        <div class="breadcrumb-nav">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12">
                        <a href="javascript:void(0);" title="Voltar" class="app-nav-collapse icone pull-xs-left"><img src="webfiles/images/icones/close.svg" /></a>
                        <div class="text-xs-center">Menu</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="msg-container nome-cliente">

        </div>

        <div id="dvMenu"></div>
    </nav>

    <section class="app-container">

        <div class="breadcrumb-nav">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12">
                        <a href="javascript:void(0);" title="Menu" class="icone app-nav-collapse"><img src="webfiles/images/bars.svg" /></a>
                        <div class="text-xs-center">Agendar visita</div>
                    </div>
                </div>
            </div>
        </div>

        <section class="section central-relacionamento">

            <div class="bg-branco full-height p-t-2 h-100">

                <div class="walkthrough-full mini">
                    <div class="container" style="margin: 0px">
                        <ul>
                            <li class="active">
                                <span>1</span>
                            </li>
                            <li class="">
                                <span>2</span>
                            </li>
                            <li class="">
                                <span>3</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="text-xs-center" style="font-size:18px">
                    <p class="font-medium m-b-3">Há sempre uma Crefisa perto de você</p>
                    <p class="font-heavy">Dados pessoais</p>
                </div>

                <div class="container">

                    <form class="form-group form-comum">
                        <div class="row">
                            <div class="col-xs-12 m-b-1 grupo-input">
                                <label style="font-size:22px"><b>Nome completo:</b></label>
                                <input type="text" id="txtNome" name="nome" placeholder="Nome completo" class="form-control" style="background-color:#f5f5f5;font-size:22px" />
                            </div>
                            <div class="col-xs-12 m-b-1 grupo-input">
                                <label style="font-size:22px"><b>CPF:</b></label>
                                <input type="tel"  onkeypress="return SomenteNumero(event);"  maxlength="11" id="txtCpf" name="cpf" placeholder="CPF" class="form-control mask-cpf" style="background-color:#f5f5f5;font-size:22px" />
                            </div>
                            <div class="col-xs-12 m-b-1 grupo-input">
                                <label style="font-size:22px"><b>E-mail:</b></label>
                                <input type="email" name="email" id="txtEmail" placeholder="E-mail" class="form-control" style="background-color:#f5f5f5;font-size:22px"/>
                            </div>
                            <div class="col-xs-12 m-b-1 grupo-input">
                                <label style="font-size:22px"><b>Selecione o seu perfil:</b></label>
                                <select id="cboPerfil" style="font-size:22px; height:50px" class="form-control">
                                    <option value="selecione">Selecione o seu perfil</option>
                                    <option value="Aposentado">Aposentado</option>
                                    <option value="Pensionista">Pensionista </option>
                                    <option value="Servidor">Servidor público </option>
                                    <option value="Outros">Outros</option>
                                </select>
                            </div>
                            <div class="col-xs-12 m-t-1">
                                <a href="#" title="Continuar" onclick="AgendamentoDadosPessoais()" class="btn btn-cor-primaria center-block m-t-2" style="font-size:18px;font-weight:bold">Continuar</a>
                            </div>
                        </div>
                    </form>

                </div>
                <section class="barra-acesso">
                    <div class="container">
                        <div class="texto">
                            <p class="nome m-h-20 fsize-1 text-xs-center m-b-0"></p>

                        </div>
                    </div>
                </section>
            </div>

        </section>

    </section>

    <!-- TODO: Modal Falta Pouco -->
    <div class="modal-aviso modal modal-simples modal-vertical fade" id="Modal" tabindex="-1" role="dialog" aria-labelledby="faltaPoucoLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="faltaPoucoLabel">Atenção</h4>
                </div>
                <div class="modal-body">
                    <p class="results"> </p>
                    <a href="#" title="Entendi" onclick="$('.modal-aviso').modal('hide')" class="btn btn-cor-primaria m-t-2">Entendi</a>
                </div>
            </div>
        </div>
    </div>


</body>
</html>
<script>


    CarregarRodape();
    function SomenteNumero(e) {
        var tecla = (window.event) ? event.keyCode : e.which;
        if ((tecla > 47 && tecla < 58)) return true;
        else {
            if (tecla == 8 || tecla == 0) return true;
            else return false;
        }
    }

    InicioNome();

    window.onload = onLoad();

    function onLoad() {
        CarregarRodape();

        $("#txtCpf").mask("999.999.999-99");
    }

    function AgendamentoDadosPessoais() {
        var u = new Util();
        var sh1 = new StorageHelp();
        var cpf = $("#txtCpf").val();
        var nomeCompleto = $("#txtNome").val();
        var Email = $("#txtEmail").val();
        var perfil = $("#cboPerfil option:selected").text();

        if (cpf == "" || nomeCompleto == "" || Email == "") {

            $('.modal-aviso').modal('show');
            $('.results').html("Todos os campos são obrigatórios");
            //navigator.notification.alert('Todos os campos são obrigatórios', function () { }, 'Atenção', 'OK');
            return false;
        }

        if (!u.ValidaCPF(cpf)) {
            $('.modal-aviso').modal('show');
            $('.results').html("CPF Inválido");
            //navigator.notification.alert('CPF Inválido', function () { }, 'Atenção', 'OK');
            return false;
        }

        if (!u.ValidarEmail(Email)) {
            $('.modal-aviso').modal('show');
            $('.results').html("Email Inválido");
            //navigator.notification.alert('Email Inválido', function () { }, 'Atenção', 'OK');
            return false;
        }


        if (perfil == "Selecione o seu perfil") {
            $('.modal-aviso').modal('show');
            $('.results').html("Por favor selecione o seu perfil");
            //navigator.notification.alert('Email Inválido', function () { }, 'Atenção', 'OK');
            return false;
        }

        var dados = {
            NomeCompleto: nomeCompleto,
            Email: Email,
            CPF: cpf,
            Perfil: perfil
        };


        sh1.DadosPessoaisAgendamento_Save(JSON.stringify(dados));
        window.location = 'pagina-agendar-visita-2.html';

    }

</script>